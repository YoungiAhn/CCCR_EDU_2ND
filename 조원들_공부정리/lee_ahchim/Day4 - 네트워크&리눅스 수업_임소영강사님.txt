임소영 강사님 soyoung
lim2009@gmail.com


USB에 linux_tools 폴더 복사~
exFAT, NTFS도 이제 우분투에서 잡히기 때문에
좋다이거에요.
예전엔 드라이버 잡느라 고생이 많았다.

VirtualBox - VM (Win7) - 시뮬레이터.

패킷트레이서! 시뮬레이터.

카드카드 컴퓨터에서 쓰는용어.
하지만 원래는 Interface라는 용어를 많이 쓴다.
그래픽카드, 사운드카드, 랜카드, 이더넷카드...

편지를 편지봉투에 넣고, 주소를 쓴다.
Address
해당 수신자가 받기 위해서는 주소에 대응되는 이름이 유일해야 한다.

address
- Physical : MAC (제조 시 부여) - LAN 안에서 사용 - Ethernet 프로토콜로 사용
- Logical : IP (사용자가 부여) - 인터넷을 사용하기 위해 사용 - IP 프로토콜로 사용

주소가 2개니까 2개를 호환해주는 친구가 필요
- ARP
사용자는 IP 주소를 모르니까
도메인 주소와 대응해주기 위해
- DNS


헤더의 구성요소 (프로토콜)
 - 서비스
 - 전송방식 : 신속(UDP) or 정확(TCP) <- 예전엔 TCP로만 많이 썼다. 너무 많은 데이터를 한꺼번에 보내면 부하가 생기기 때문. 
					하지만 세그먼트 단편화 편지봉투 일일히 다 씌워서 뚝뚝 끊긴다. 
					빠른 재생이 필요한 voice나 동영상과 같은 건 적절하지 않음
				     <- 지금은 UDP 데이터도 엄청엄청 많다! 동영상도 많고, voice 통화도 많으니까.
					voice나 동영상은 우선순위를 주기 위해 마킹을 한다. 패킷처리 설정은 장비에서 가능
					(ex. 구급차) - QoS (Quality of Service)
 - 주소방식 : IP -> 라우팅 (IP 주소를 보고 길 찾아서 가는 것)
 - 스위칭 (내가 속한 로컬 네트워크 영역을 지나가거나 배달하는 것)
	- LAN : Ethernet(이더넷)
	- WAN : VPN 기술이 나오기 전에는 사설망으로 Frame-Relay, Point-to-Point도 사용.
							가상이 아닌 사설망들!
		그래서 가상 사설망(VPN) 기술은 사실 공인망을 사용한다고 설명하심.
		'암호화'로 가상으로 사설망을 제공하는 기술

NAT
- 라우터(우체국) 라우팅 테이블 보고 찾아가는데! 이정표 보고 찾아가는데! IP를 보고 테이블에 없으면 버린다.
  그렇기때문에 공인 IP만 있고 사설 IP주소는 취급하지 않는다. 유니크하지 않은 주소이기 때문....
  그래서 인터넷 하기 위해서 공인 IP를 가지고 나가는 것이다...
  사설 IP를 가지고 나가면 못 돌아옵니다.

OSI 7 Layer 쓰는이유
- 규격대로 안 만들면 통신이 안 되니까(호환성)
  부서에서 파트 나누듯이 나눴어요.

TCP/IP 4 Layer
- 실무에서 쓰기 좋게 프로토콜별로 나눔

따라서 레이어별로 이름, 역할 장비가 있는지 알아야 한다.

MAC 주소
4비트4비트 - 4비트4비트 - 4비트4비트 - 4비트4비트 - 4비트4비트 - 4비트4비트
1바이트

앞3묶음 - 벤더 = OUI
뒤3묶음 - 제품번호

IPv6 - 128bit (64+64bit) - 앞은 고정, 뒤를 고치기도. MAC주소를 참조해서 만들기도함


IP(v4) 주소
10진수
8비트.8비트.8비트.8비트
256가지씩 사용
총 32bit

IP Class - 달고나 틀!
앞의 1번째 숫자로 구분한다.
A Class	0~127	(256의 반절, 128)
B Class	128~191	(128의 반절, 64)
C Class	192~223	(64의 반절, 32)
D Class 224~239	(32의 반절, 16)
E Class 240~255	(32의 반절, 16)

네트워크 아이디 - 서울시 서초구 서초동!
8	8	8	8	(Bit)
(======)			A Class Network ID
(==============)		B Class Network ID
(======================)	C Class Network ID

	(=====================)	A Class Host ID
		(=============) B Class Host ID
			(=====) C Class Host ID

중소기업과 대기업!
A Class 는 (회사-인프라)갯수는 몇 개 없지만 규모는 크다
C는 반대

Subnet Mask
255.0.0.0
255.255.0.0
255.255.255.0

서브넷 - ABC 네트워크를 잘라서쓰자! 너무 많이 주면 안 쓸수도 있으니
서브넷팅(N 나누기) -> 서브넷

Prefix 증가 == 네트워크 아이디 갯수 증가

라우터와 라우터 사이에도 IP를 하나씩 할당해요.
그래서 IP를 4개나 8개씩 할당하기도 해서~
그럴 때 서브넷팅을 많이 써요.

summary! C클래스 2개를 C클래스 1개로 요약한다거나. (묶는다거나)

A클래스 /8을 /24로 쪼개기
네트워크 아이디는 16비트가 늘어난것

/8을 /16으로 쪼개기
네트워크 아이디는 8비트가 늘어난것
라우팅 테이블 한개였지만, 256개로 늘어나버림
줄여서 1개로 쓰게 되면 패킷 하나만 받아서 보내주면 되는 거라
서브넷팅 할 수록 많은 걸 라우터가 알아야 하고
라우팅 테이블을 줄이게 되는데,
그래서 summary 하는 것.
summarization aggrization

subnetting과 summary는 반대의 개념

OSI 7 Layer
사장님은 화장실을 맨 위층에 만들고 싶다 ㅋㅋㅋㅋ

전송(Send)
Encapsulation	Data + Protocol_Header

수신(Received)
Decapsulation	Data + Protocol_Header - Protocol Header

위에서 어떤 프로토콜로 내려온지는 알았지만
아래에서는 방향을 모르므로 헤더에 있는 정보를 통해
상위 프로토콜을 알 수 있는것이다.

데이터를 보낼 때
데이터가 무한대로 길지 않다 이거에요.
한번에 600메가 보내다가 손실나면 다시보내기 넘 귀찮으니까
단편화(Fragmentation) 합니다.
ktword.co.kr - 단편화
길이제한 - 이더넷 환경의 최대 전송 단위(MTU) 사이즈에 따라. 
	   (1500 bytes - Tailer + Data + Header)

   이름			기능				프로토콜			장비			PDU(Protocol Data Unit)
L7 Application		클라이언트가 네트워크~		HTTP, POP3...
L6 Presentation		암복호화/압축,해지
L5 Session		연결유지/관리
L4 Transport		전송방식			TCP, UDP
L3 Network		주소방식 -> 길찾기, 라우팅	IP, ICMP/IGMP, ARP/RARP		라우터
											(라우팅 프로토콜)
											경로 동기화
L2 Data-Link		스위칭(LAN)			이더넷 - LLC(상위프로토콜 정보)	스위치
							       - MAC 주소
L1 Physical		논리적 Data -> 물리적 비트 변환					허브(+리피터), 리피터

허브는 1계층 기능만 해서 다른 계층 데이터를 해석불가능해서 다 뿌린다.
스위치는 1계층 + 2계층이어서 1계층과 다른 계층(2계층) 데이터를 해석가능합니다.
	 맥 스위칭 테이블을 만들어서 포트 경로를 스스로 지정해줍니다.
	 인터넷 할 때는 게이트웨이로 보내줌. (이더넷 헤더에 쓰여있음)
라우터는 1 + 2 + 3계층이어서 1,2,3계층 데이터 해석가능
	 IP로 된 라우팅 테이블, 스스로 못해서 엔지니어나 다른 프로토콜을 써서 테이블만듬

밥먹고 똑똑해진 스위치를 알아봅시다

우분투 소프트웨어
Oracle VM VirtualBox
돌아가는 데도 메모리나 하드디스크를 쓰기 때문에
우분투를 사용하고 남은 메모리랑 하드디스크 써야함
8기가에서 우분투 3기가 -> 5기가
윈도우 2기가 -> 3기가
여기서 더 돌린다면? 안된다~
남겨둬야된다

가상머신을 하고 싶다, 윈도우


ipconfig /all
ipconfig /...


IP에 해당하는 맥주소를 알아오는 프로토콜
ARP Cache

arp -a
arp /?

arp -d
권한없어서 못함
관리자 권한으로 실행!

arp -d
arp -a
(찾을 수 없음)
ping 10.0.2.2
arp -a (게이트웨이만 뜸)

캐시 즉 램 메모리에 저장됨.
껐다 키거나 일정 시간이 지나면 지워짐!

쉬었다가 라우팅 테이블을 봅시당.



HTTP -> HTTPS (기밀성 보완)
SMTP	Simple Mail Transfer Protocol	전송
POP3	Post Office Protocol		수신
IMAP	(네이버, 다음서버에서 사용)
DNS
SSH

포트번호의 정의는 5계층에 있는데
통신에 대한 목적을 알 수 있다.
사용은 4계층에서 하지...

IP는 비신뢰성이다! Header 붙여 보내는게 자꾸 사라져.
그래서 ICMP사용


클라이언트 - 서비스를 요청
서버 - 서비스를 제공



